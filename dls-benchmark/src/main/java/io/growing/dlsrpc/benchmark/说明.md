前排警告
---

* 安装 Consul 单机
* 安装Scala 2.12.x
* 安装 Java 8
* 需要压测就安装 IDEA 的 JMH插件
* 不要使用我核心包的models，那是测试用的！
* 基于JDK代理的RPC，接口和实现需要同包或者实现类在子包！
* 在哪启动哪个 dlsRPC.conf 文件就生效，若在 core 启动开发时的测试类，那么生效的配置是 core 模块下的 dlsRPC.conf
* 服务端启动后马上停止且状态码 0 ，一般是端口通道打开失败！
* 如果不会使用 sbt publish 那就使用 resources 下的jar

下面 是 benchmark 模块的一个可用的 dlsRPC.conf 配置文件，直接放到自己项目的 resources 下面即可

```
//consul ip，本地不用改
dlsrpc.consul.host = "127.0.0.1"

//consul 端口，本地不用改
dlsrpc.consul.port = 8500

//服务器端所有可用ip，用于负载均衡，本地不需要改
//此配置不能完全决定服务地址的选取，但是在此配置的ip将被负载均衡优先选择
dlsrpc.consul.server.address = ["127.0.0.1"]

//默认注册的包下的service，需要改为自己项目的顶级包
dlsrpc.consul.registry.package-service = "io.growing.dlsrpc.benchmark"

//客户端超时时间
dlsrpc.client.timeout = 30000

//若忘记配dlsrpc.consul.server.address，则认为是本地调用，将使用本地服务地址
dlsrpc.server.address.default = "127.0.0.1:8080"

//（调用方会根据此地址建立连接）
//web服务默认端口
dlsrpc.server.port = 9998

//默认WEB服务在本地，本不应该配置在此，但是本地测试都是在单机上，服务实际地址也是本地
dlsrpc.server.ip = "127.0.0.1"

//负载均衡默认权值，建议[1,10]，不可小于0
dlsrpc.server.balancer-weight = 5

//默认启用cglib，但是会根据是否有接口进一步确定
dlsrpc.proxy.mode.cglib-proxy = true

//是否强制启用CGLIB，若是final修饰的类或方法将抛出代理异常
dlsrpc.proxy.mode.force-cglib-proxy = false
```